# Chap03 - λλ‹¤ ν‘ν„μ‹

μƒμ„±μΌ: 2022λ…„ 10μ›” 11μΌ μ¤ν›„ 3:55

μµλ… ν΄λμ¤λ΅ λ‹¤μ–‘ν• λ™μ‘μ„ κµ¬ν„ν•  μ μμ§€λ§, λ§μ΅±ν• λ§νΌ μ½”λ“κ°€ κΉ”λ”ν•μ§€λ” μ•μ•λ‹¤. λ‹¤μμ μμ‹λ¥Ό μ‚΄ν΄λ³΄μ.

```java
// Runnable μΈν„°νμ΄μ¤λ” ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§μ„ κ°€μ§€λ―€λ΅ ν•¨μν• μΈν„°νμ΄μ¤μ΄λ‹¤.
public interface Runnable {
		void run();
}

// μ΄λ° ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μµλ… ν΄λμ¤λ΅ κµ¬ν„ν•΄λ³΄μ.
Runnable r = new Runnable() {
		@Override
		void run() {
				System.out.println("Hello, World!");
		}
}
```

μ•μ„ μ‚΄ν΄λ³Έ λ™μ‘ νλΌλ―Έν„°ν™”μ—μ„λ„ μ• μ μλ“―μ΄, μµλ… ν΄λμ¤λ¥Ό ν™μ©ν•λ©΄ μ μ—°ν• μ½”λ“λ¥Ό λ§λ“¤ μ μλ‹¤. λν• ν•λ²λ§ μ“Έ μ½”λ“λ¥Ό μ„ν•΄ κµ³μ΄ ν΄λμ¤λ¥Ό μ •μν•  ν•„μ”λ„ μ—†λ‹¤.

λ‹¤λ§ μ—¬μ „ν μ½”λ“κ°€ κΉ”λ”ν•μ§€λ” μ•λ‹¤. λλ‹¤ ν‘ν„μ‹μ„ ν™μ©ν•λ©΄ μ„ μ½”λ“λ¥Ό λ”μ± κΉ”λ”ν•κ² μ‚¬μ©ν•  μ μλ‹¤.

```java
Runnable r = () -> System.out.println("Hello, World!");
```

μ°μ„ μ€ λλ‹¤ ν‘ν„μ‹μ΄ μµλ… ν΄λμ¤μ™€ λΉ„μ·ν•λ‹¤κ³  μƒκ°ν•μ.

## 3.2 λλ‹¤λ€ λ¬΄μ—‡μΈκ°€?

λλ‹¤ ν‘ν„μ‹μ€ λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ” μµλ… ν•¨μλ¥Ό λ‹¨μν™”ν• κ²ƒμ΄λΌκ³  ν•  μ μλ‹¤. λλ‹¤ ν‘ν„μ‹μ—λ” μ΄λ¦„μ€ μ—†μ§€λ§

- νλΌλ―Έν„° λ¦¬μ¤νΈ
- λ°”λ””
- λ°ν™ ν•μ‹
- λ°μƒν•  μ μλ” μμ™Έλ¦¬μ¤νΈ

λ” κ°€μ§ μ μλ‹¤. λν• λ‹¤μκ³Ό κ°™μ€ νΉμ§•μ„ κ°€μ§„λ‹¤.

**μµλ…** : λ³΄ν†µμ λ©”μ„λ“μ™€ λ‹¬λ¦¬ μ΄λ¦„μ΄ μ—†μΌλ―€λ΅ μµλ…μ΄λΌ ν‘ν„ν•λ‹¤. 

**ν•¨μ** : λλ‹¤λ” λ©”μ„λ“μ²λΌ νΉμ • ν΄λμ¤μ— μΆ…μ†λμ§€ μ•μΌλ―€λ΅, ν•¨μλΌκ³  λ¶€λ¥Έλ‹¤. ν•μ§€λ§ λ©”μ„λ“μ²λΌ νλΌλ―Έν„° λ¦¬μ¤νΈ, λ°”λ””, λ°ν™ ν•μ‹, κ°€λ¥ν• μμ™Έλ¦¬μ¤νΈλ¥Ό ν¬ν•¨ν•λ‹¤.

**μ „λ‹¬** : λλ‹¤ ν‘ν„μ‹μ„ λ©”μ„λ“ μΈμλ΅ μ „λ‹¬ν•κ±°λ‚ λ³€μλ΅ μ €μ¥ν•  μ μλ‹¤.

**κ°„κ²°μ„±** : μμ§κµ¬λ ν• μ½”λ“λ¥Ό κµ¬ν„ν•  ν•„μ”κ°€ μ—†λ‹¤.

λ‹¤μμ€ λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•μ§€ μ•μ€ κΈ°μ΅΄ μ½”λ“μ΄λ‹¤.

```java
Comparator<Apple> byWeight = new Comparator<Apple>() {
		public int compare(Apple a1, Apple a2) {
				return a1.getWeight().compareTo(a2.getWeight());
		}
};
```

λ‹¤μμ€ λλ‹¤λ¥Ό μ΄μ©ν• μ½”λ“μ΄λ‹¤.

```java
Comparator<Apple> byWeight =
		(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
```

λ§¤μ° κ°„κ²°ν•΄μ§„ κ²ƒμ„ ν™•μΈν•  μ μλ‹¤. λλ‹¤λ” λ‹¤μκ³Ό κ°™μ€ μ„Έ λ¶€λ¶„μΌλ΅ λ‚λ‰λ‹¤.

1. **λλ‹¤ νλΌλ―Έν„°** - `(Apple a1, Apple a2)` 
2. **ν™”μ‚΄ν‘** - `->` 
3. **λλ‹¤ λ°”λ””** - `a1.getWeight*().compareTo(a2.getWeight());` 

λ‹¤μ μμ μ—μ„ λ‚μ¤λ” λλ‹¤ ν‘ν„μ‹μ€ λ¨λ‘ μ ν¨ν• λλ‹¤ ν‘ν„μ‹μ΄λ‹¤.

```java
// λλ‹¤ ν‘ν„μ‹μ€ returnμ„ ν•¨μ¶•ν•κ³  μμΌλ―€λ΅ λ…μ‹μ μΌλ΅ μ‚¬μ©ν•μ§€ μ•μ•„λ„ λλ‹¤. 
(String s) -> s.length()
(Apple a) -> a.getWeight() > 150

// λ¦¬ν„΄κ°’μ΄ μ—†λ‹¤. (void λ¦¬ν„΄)
// λν• λλ‹¤ ν‘ν„μ‹μ€ μ—¬λ¬ ν–‰μ λ¬Έμ¥μ„ ν¬ν•¨ν•  μ μλ‹¤.
(int x, int y) -> {
		System.out.println("Result:");
		System.out.println(x + y);
}

// νλΌλ―Έν„°κ°€ μ—†μΌλ©° int 42λ¥Ό λ°ν™ν•λ‹¤.
() -> 42

(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight())
```

### ν€΄μ¦ 3-1. λλ‹¤ ν‘ν„μ‹

```java
() -> {}                               // μ ν¨ν• λλ‹¤μ‹
() -> "Raoul"                          // μ ν¨ν• λλ‹¤μ‹
() -> { return "Mario"; }              // μ ν¨ν• λλ‹¤μ‹
(Integer i) -> return "Alan" + i;      // μ ν¨ν•μ§€ μ•μ€ λλ‹¤ ν‘ν„μ‹
(String s) -> { "Iron Man"; }          // μ ν¨ν•μ§€ μ•μ€ λλ‹¤ ν‘ν„μ‹
```

1. νλΌλ―Έν„°κ°€ μ—†μΌλ©° voidλ¥Ό λ°ν™ν•λ” λλ‹¤ ν‘ν„μ‹μ΄λ‹¤. 
2. νλΌλ―Έν„°κ°€ μ—†μΌλ©° λ¬Έμμ—΄μ„ λ°ν™ν•λ” ν‘ν„μ‹
3. νλΌλ―Έν„°κ°€ μ—†μΌλ©° λ…μ‹μ μΌλ΅ returnμ„ ν‘ν„ν•΄ λ¬Έμμ—΄μ„ λ°ν™ν•λ” ν‘ν„μ‹
4. returnμ€ νλ¦„ μ μ–΄λ¬Έμ΄λ‹¤. λ”°λΌμ„ `(Integer i) -> { return "Alan" + i;}` μ²λΌ λμ–΄μ•Ό μ¬λ°”λ¥Έ ν‘ν„μ‹μ΄λ‹¤.
5. β€Iron Manβ€μ€ κµ¬λ¬Έ(statement)μ΄ μ•„λ‹λΌ ν‘ν„μ‹(expression)μ΄λ‹¤.
    
     `(String s) -> "Iron Man"` μ΄ μ¬λ°”λ¥Έ ν‘ν„μ‹μ΄λ‹¤. 
    
    λλ” `(String s) -> {return "Iron Man";}` μ²λΌ λ…μ‹μ μΌλ΅ returnλ¬Έμ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.
    

<aside>
β„ΉοΈ expression : λ‹¨μΌκ°’μΌλ΅ ν‰κ°€λ  μ μλ” μ½”λ“. μλ¥Ό λ“¤μ–΄ StringμΈ `"Iron Man"` , intκ°’μΈ `3` λ“±μ΄ μ‹μ— ν•΄λ‹Ήν•λ‹¤.
statement : μ‹¤ν–‰κ°€λ¥ν• μµμ†ν•μ λ…λ¦½λ μ½”λ“ μ΅°κ°. `return "Iron Man"` μ κ²½μ° ν•λ‚μ μ‹(expression)μ„ ν¬ν•¨ν•κ³  μλ” λ¬Έ(statement)μ΄λ‹¤. λν• `String str = "Iron Man";` λν• ν•λ‚μ μ‹μ„ ν¬ν•¨ν•κ³  μλ” λ¬Έμ΄λΌ ν•  μ μλ‹¤.

</aside>

## 3.2 μ–΄λ””μ—, μ–΄λ–»κ² λλ‹¤λ¥Ό μ‚¬μ©ν• κΉ?

### 3.2.1 ν•¨μν• μΈν„°νμ΄μ¤

2μ¥μ—μ„ λ§λ“  Predicate<T> μΈν„°νμ΄μ¤λ΅ ν•„ν„° λ©”μ„λ“λ¥Ό νλΌλ―Έν„°ν™”ν•  μ μμ—μμ„ κΈ°μ–µν•λ”κ°€? λ°”λ΅ Predicate<T>κ°€ ν•¨μν• μΈν„°νμ΄μ¤μ΄λ‹¤. Predicate<T>λ” μ¤μ§ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§ μ§€μ •ν•κΈ° λ•λ¬Έμ΄λ‹¤.

```java
public interface Predicate<T> {
		boolean test (T t);
}
```

κ°„λ‹¨ν λ§ν•΄, **ν•¨μν• μΈν„°νμ΄μ¤λ” μ •ν™•ν ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ§€μ •ν•λ” μΈν„°νμ΄μ¤μ΄λ‹¤**.

```java
// λ‹¤μ–‘ν• ν•¨μν• μΈν„°νμ΄μ¤λ“¤

public interface Comparator<T> {
		int compare(T o1, T o2);
}

public interface Runnable {
		void run();
}

public interface ActionListener extends EventListener {
		void actionPerformed(ActionEvent e);
}

public interface Callable<V> {
		V call() throws Exception;
} 

public interface PrivilegedAction<T> {
		T run();
}
```

<aside>
π’΅ μΈν„°νμ΄μ¤λ” default methodλ¥Ό ν¬ν•¨ν•  μ μλ‹¤. λ‹¤λ§ λ§μ€ λ””ν΄νΈ λ©”μ„λ“κ°€ μλ”λΌλ„ μ¶”μƒ λ©”μ„λ“κ°€ μ¤μ§ ν•λ‚λ©΄ ν•΄λ‹Ή μΈν„°νμ΄μ¤λ” ν•¨μν• μΈν„°νμ΄μ¤μ΄λ‹¤.

</aside>

### ν€΄μ¦ 3-2. ν•¨μν• μΈν„°νμ΄μ¤

```java
// λ‹¤μ μΈν„°νμ΄μ¤ μ¤‘ ν•¨μν• μΈν„°νμ΄μ¤λ” μ–΄λ κ²ƒμΈκ°€?

// 1.
public interafce Adder {
		int add(int a, int b);
}

// 2.
public interface SmartAdder extends Adder {
		int add(double a, double b);
}

// 3.
public interface Nothing {}
```

μ •λ‹µμ€ 1λ²λ§ ν•¨μν• μΈν„°νμ΄μ¤μ΄λ‹¤.

- 2λ²μ κ²½μ° λ¶€λ¨ μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“μΈ `add` λ¥Ό ν¬ν•¨ν•΄μ„ 2κ°μ μ¶”μƒ λ©”μ„λ“λ¥Ό κ°–κ³  μλ‹¤.
- 3λ²μ κ²½μ° μ¶”μƒ λ©”μ„λ“κ°€ μ—†μΌλ―€λ΅ ν•¨μν• μΈν„°νμ΄μ¤κ°€ μ•„λ‹λ‹¤.

ν•¨μν• μΈν„°νμ΄μ¤λ΅ λ­ ν•  μ μμ„κΉ? λλ‹¤ ν‘ν„μ‹μΌλ΅ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ κµ¬ν„μ„ μ§μ ‘ μ „λ‹¬ν•  μ μμΌλ―€λ΅ **μ „μ²΄ ν‘ν„μ‹μ„ ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ·¨κΈ‰ν•  μ μλ‹¤.** (κΈ°μ μ μΌλ΅ λ”°μ§€λ§ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ μΈν„°νμ΄μ¤)

λ‹¤μ μμ λ¥Ό μ‚΄ν΄λ³΄μ.

```java
Runnable r1 = () -> System.out.println("Hello, World!"); 

Runnable r2 = new Runnable() {
		public void run() {
				System.out.println("Hello, World2"); // μµλ… ν΄λμ¤ μ‚¬μ©
		}
};

public static void process(Runnable r) {
		r.run();
}

process(r1); // Hello, Worldλ¥Ό μ¶λ ¥
provess(r2); // Hello, World2λ¥Ό μ¶λ ¥
process(() -> System.out.println("Hello, World3"));
// μ§μ ‘ μ „λ‹¬λ λλ‹¤ ν‘ν„μ‹μΌλ΅ Hello, World3μ„ μ¶λ ¥
```

### 3.2.2 ν•¨μ λ””μ¤ν¬λ¦½ν„° (Function Descriptor)

<aside>
π’΅ **λ©”μ„λ“ μ‹κ·Έλ‹μ²(Method Signature)λ€?**
β†’ λ©”μ„λ“ μ΄λ¦„κ³Ό λ§¤κ°λ³€μ λ¦¬μ¤νΈμ μ΅°ν•©μ„ λ»ν•λ‹¤. μ•„λ μμ‹λ¥Ό μ‚΄ν΄λ³΄μ.

public void funcA(int x, int y) {
    // β€¦
}

public void funcA(int x, int y, double z) {
    // β€¦
}

λ‘ λ©”μ„λ“μ μ‹κ·Έλ‹μ²λ” κ°κ°
funcA(int, int)
funcA(int, int, double)
μ΄λ‹¤. **Java μ»΄νμΌλ¬λ” μ¤λ²„λ΅λ”©λ ν•¨μλ¥Ό λ©”μ„λ“ μ‹κ·Έλ‹μ²λ¥Ό ν™μ©ν•μ—¬ κµ¬λ³„ν•κ² λλ‹¤**.

</aside>

ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ μ‹κ·Έλ‹μ²(Signature)λ” λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό κ°€λ¦¬ν‚¨λ‹¤. 

λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό μ„μ ν•λ” λ©”μ„λ“λ¥Ό ν•¨μ λ””μ¤ν¬λ¦½ν„°λΌκ³  λ¶€λ¥Έλ‹¤. μλ¥Ό λ“¤μ–΄ Runnable μΈν„°νμ΄μ¤μ μ μΌν• μ¶”μƒ λ©”μ„λ“ `run()` μ€ μΈμμ™€ λ°ν™κ°’μ΄ μ—†μΌλ―€λ΅ Runnable μΈν„°νμ΄μ¤λ” μΈμμ™€ λ°ν™κ°’μ΄ μ—†λ” μ‹κ·Έλ‹μ²λ΅ μƒκ°ν•  μ μλ‹¤.

`() -> void` ν‘κΈ°λ” νλΌλ―Έν„° λ¦¬μ¤νΈκ°€ μ—†μΌλ©°, `void` λ¥Ό λ°ν™ν•λ” ν•¨μλ¥Ό μλ―Έν•λ‹¤. μ¦‰, μ•μ—μ„ μ„¤λ…ν• Runnableμ΄ μ΄μ— ν•΄λ‹Ήν•λ‹¤. `(Apple, Apple) β†’ int` λ” λ‘ κ°μ Appleμ„ μΈμλ΅ λ°›μ•„ intλ¥Ό λ°ν™ν•λ” ν•¨μλ¥Ό κ°€λ¦¬ν‚¨λ‹¤. 

<aside>
β„ΉοΈ μ΅°κΈ μ΄μƒν•΄λ³΄μΌ μ μμ§€λ§, μ•„λλ” μ •μƒμ μΈ λλ‹¤ ν‘ν„μ‹μ΄λ‹¤.

process(() β†’ System.out.println(β€This is awesomeβ€));

μ„ μ½”λ“μ—μ„λ” μ¤‘κ΄„νΈ (`{}`)λ¥Ό μ‚¬μ©ν•μ§€ μ•μ•κ³ , `System.out.println()` μ€ voidλ¥Ό λ°ν™ν•λ―€λ΅ μ™„λ²½ν• ν‘ν„μ‹μ΄ μ•„λ‹ κ²ƒμ²λΌ λ³΄μΈλ‹¤. κ·ΈλΌ λ‹¤μμ²λΌ μ½”λ“λ¥Ό μ¤‘κ΄„νΈλ΅ κ°μ‹Έλ©΄ μ–΄λ–¨κΉ?

process(() β†’ { System.out.println(β€This is awesomeβ€); });

κ²°λ΅ μ μΌλ΅ μ΄λ―Έ μ‚΄ν΄λ³Έ κ²ƒμ²λΌ μ¤‘κ΄„νΈλ” ν•„μ”μ—†λ‹¤. μλ°” μ–Έμ–΄ λ…μ„Έμ—μ„λ” voidλ¥Ό λ°ν™ν•λ” λ©”μ„λ“ νΈμ¶κ³Ό κ΄€λ ¨ν• νΉλ³„ν• κ·μΉ™μ„ μ •ν•κ³  μκΈ° λ•λ¬Έμ΄λ‹¤.
**μ¦‰, ν• κ°μ void λ©”μ„λ“ νΈμ¶μ€ μ¤‘κ΄„νΈλ΅ κ°μ€ ν•„μ”κ°€ μ—†λ‹¤.**

</aside>

**β€μ™ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μΈμλ΅ λ°›λ” λ©”μ„λ“μ—λ§ λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•  μ μμ„κΉ?β€™** λΌλ” μλ¬Έμ΄ μƒκΈΈ μ μλ‹¤. μ–Έμ–΄ μ„¤κ³„μλ“¤μ€ μλ°”μ— ν•¨μ ν•μ‹(λλ‹¤ ν‘ν„μ‹μ„ ν‘ν„ν•λ” λ° μ‚¬μ©ν• μ‹κ·Έλ‹μ²μ™€ κ°™μ€ νΉλ³„ν• ν‘κΈ°λ²•.)μ„ μ¶”κ°€ν•λ” λ°©λ²•λ„ λ€μ•μΌλ΅ κ³ λ ¤ν–λ‹¤. ν•μ§€λ§ μ–Έμ–΄ μ„¤κ³„μλ“¤μ€ μ–Έμ–΄λ¥Ό λ” λ³µμ΅ν•κ² λ§λ“¤μ§€ μ•λ” ν„μ¬μ λ°©λ²•μ„ μ„ νƒν–λ‹¤. λν• λ€λ¶€λ¶„μ μλ°” ν”„λ΅κ·Έλλ¨Έκ°€ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ¥Ό κ°–λ” μΈν„°νμ΄μ¤(μλ¥Ό λ“¤λ©΄ μ΄λ²¤νΈ μ²λ¦¬ μΈν„°νμ΄μ¤)μ— μ΄λ―Έ μµμ™ν•λ‹¤λ” μ λ„ κ³ λ ¤ν–λ‹¤.

### ν€΄μ¦ 3-3. μ–΄λ””μ— λλ‹¤λ¥Ό μ‚¬μ©ν•  μ μλ”κ°€?

```java
// λ‹¤μ μ¤‘ λλ‹¤ ν‘ν„μ‹μ„ μ¬λ°”λ¥΄κ² μ‚¬μ©ν• μ½”λ“λ”?

// 1.
execute(() -> {});
public void execute(Runnable r) {
		r.run();
}

// 2. 
public Callable<String> fetch() {
		return () -> "Tricky example ;-)";
}

// 3.
Predicate<Apple> p = (Apple a) -> a.getWeight();

/**
 * 1λ², 2λ²μ΄ μ ν¨ν• λλ‹¤ ν‘ν„μ‹μ΄λ‹¤.
 * μ²«λ²μ§Έ μμ μ—μ„ λλ‹¤ ν‘ν„μ‹ () -> {}μ μ‹κ·Έλ‹μ²λ” () -> voidμ΄λ©°, Runnableμ μ¶”μƒλ©”μ„λ“
 * runμ μ‹κ·Έλ‹μ²μ™€ μΌμΉν•λ―€λ΅, μ ν¨ν• λλ‹¤ ν‘ν„μ‹μ΄λ‹¤.
 * λ‹¤λ§ λλ‹¤μ λ°”λ””κ°€ λΉ„μ–΄μμΌλ―€λ΅ μ‹¤ν–‰ν•λ”λΌλ„ μ•„λ¬΄ μΌλ„ μΌμ–΄λ‚μ§€ μ•λ”λ‹¤.
**/

/**
 * 2λ² : fetch λ©”μ„λ“μ λ°ν™ ν•μ‹μ€ Callable<String>μ΄λ‹¤.
 * Tλ¥Ό StringμΌλ΅ λ€μΉν–μ„ λ• Callable<String> λ©”μ„λ“μ μ‹κ·Έλ‹μ²λ” () -> Stringμ΄ λλ‹¤. 
 * () -> "Tricky example ;-)"λ” () -> String μ‹κ·Έλ‹μ²μ΄λ―€λ΅ λ¬Έλ§¥μƒ μ ν¨ν•λ‹¤.
**/

/**
 * μ„Έλ²μ§Έ μμ μ—μ„ (Apple a) -> a.getWeight()μ μ‹κ·Έλ‹μ²λ” (Apple) -> Integerμ΄λ―€λ΅
 * Predicate<Apple>: (Apple) -> booleanμ test λ©”μ„λ“μ μ‹κ·Έλ‹μ²μ™€ μΌμΉν•μ§€ μ•λ”λ‹¤.
 * λ”°λΌμ„ μ ν¨ν• λλ‹¤ ν‘ν„μ‹μ΄ μ•„λ‹λ‹¤.
**/
```

<aside>
π’΅ λ³µμµ - μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν• μΈν„°νμ΄μ¤μ κµ¬ν„
λ§μ•½ 1λ² μμ μ—μ„ λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•μ§€ μ•μ•λ‹¤λ©΄, λ‹¤μκ³Ό κ°™μ΄ μ§μ ‘ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤.

Runnable r = new Runnable() {

    @Override
    void run() { System.out.println(β€Helloβ€); }
}
execute(r);

λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•΄ μ•„λμ™€ κ°™μ΄ κ°„λ‹¨ν•κ² μ‘μ„±ν•  μ μλ‹¤.
execute(() β†’ {});

</aside>

<aside>
β„ΉοΈ @FunctionalInterfaceλ” λ¬΄μ—‡μΈκ°€?
μƒλ΅μ΄ μλ°” APIλ¥Ό μ‚΄ν΄λ³΄λ©΄, ν•¨μν• μΈν„°νμ΄μ¤μ— @FunctionalInterface μ–΄λ…Έν…μ΄μ…μ΄ μ¶”κ°€λμ–΄ μλ‹¤. μ΄λ” ν•¨μν• μΈν„°νμ΄μ¤μ„μ„ λ…μ‹μ μΌλ΅ λ‚νƒ€λ‚΄λ” μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.
@FunctionalInterfaceλ¥Ό μ„ μ–Έν–μ§€λ§ μ‹¤μ λ΅ ν•¨μν• μΈν„°νμ΄μ¤κ°€ μ•„λ‹λΌλ©΄ μ»΄νμΌλ¬κ°€ μ—λ¬λ¥Ό λ°μƒμ‹ν‚¨λ‹¤. μλ¥Ό λ“¤μ–΄ μ¶”μƒ λ©”μ„λ“κ°€ ν• κ° μ΄μƒμ΄λΌλ©΄ Multiplenonoverriding abstract methods found in interfae Foo(μΈν„°νμ΄μ¤ Fooμ— μ¤λ²„λΌμ΄λ“ ν•μ§€ μ•μ€ μ—¬λ¬ μ¶”μƒ λ©”μ„λ“κ°€ μμ)κ°™μ€ μ—λ¬κ°€ λ°μƒν•  μ μλ‹¤.

</aside>

## 3.3 λλ‹¤ ν™μ© : μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄

λλ‹¤μ™€ λ™μ‘ νλΌλ―Έν„°ν™”λ΅ μ μ—°ν•κ³  κ°„κ²°ν• μ½”λ“λ¥Ό κµ¬ν„ν•λ” λ° λ„μ›€μ„ μ£Όλ” μ‹¤μ©μ μΈ μμ λ¥Ό μ‚΄ν΄λ³΄μ.

μμ› μ²λ¦¬(ex: DBμ νμΌ μ²λ¦¬)μ— μ‚¬μ©ν•λ” μν™ ν¨ν„΄(recurrent pattern)μ€ μμ›μ„ μ—΄κ³  μ²λ¦¬ν• λ‹¤μμ—, μμ›μ„ λ‹«λ” μμ„λ΅ μ΄λ¤„μ§„λ‹¤. μ•„λ κ·Έλ¦Όκ³Ό κ°™μ€ ν•μ‹μ μ½”λ“λ¥Ό μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄μ΄λΌκ³  λ¶€λ¥Έλ‹¤.

β†’ μ¦‰ μ‘μ—…μ„ μ²λ¦¬ν•κΈ° μ „ν›„λ΅ μ΄κΈ°ν™” - μ •λ¦¬ κ³Όμ •μ΄ ν•„μ”ν• μ½”λ“λ¥Ό μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄μ΄λΌκ³  λ¶€λ¥Έλ‹¤.

![Untitled](Chap03%20-%20%E1%84%85%E1%85%A1%E1%86%B7%E1%84%83%E1%85%A1%20%E1%84%91%E1%85%AD%E1%84%92%E1%85%A7%E1%86%AB%E1%84%89%E1%85%B5%E1%86%A8%208a82690001ee4c65a60e67d6a0ef2c0d/Untitled.png)

λ‹¤μ μμ μ—μ„ κµµμ€ κΈ€μ”¨λ” νμΌμ—μ„ ν• ν–‰μ„ μ½λ” μ½”λ“μ΄λ‹¤.

```java
public String processFile() throws IOException {
		**try (BufferedReader br = 
						new BufferedReader(new FileReader("data.txt")))** {
				return br.readLine(); // μ‹¤μ  ν•„μ”ν• μ‘μ—…μ„ ν•λ” ν–‰
		}
}

// μλ°” 7μ— μ¶”κ°€λ try-with-resources κµ¬λ¬Έμ„ μ‚¬μ©ν–λ‹¤.
// μ΄λ¥Ό μ‚¬μ©ν•λ©΄ μμ›μ„ λ…μ‹μ μΌλ΅ λ‹«μ„ ν•„μ”κ°€ μ—†μΌλ―€λ΅ κ°„κ²°ν• μ½”λ“λ¥Ό κµ¬ν„ν•λ” λ° λ„μ›€μ„ μ¤€λ‹¤.
```

### 3.3.1 1λ‹¨κ³„ : λ™μ‘ νλΌλ―Έν„°ν™”λ¥Ό κΈ°μ–µν•λΌ

μ„ μμ λ” νμΌμ—μ„ ν• λ²μ— ν•μ¤„λ§μ„ μ½μ„ μ μλ‹¤. ν•μ§€λ§ 

- ν• λ²μ— λ‘μ¤„μ„ μ½μΌλ©΄μ„ μ²λ¦¬
- κ°€μ¥ μμ£Ό μ‚¬μ©λλ” λ‹¨μ–΄ λ°ν™

λ“± λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ λ³€ν™”ν•λ‹¤λ©΄ μ–΄λ–»κ² ν• κΉ? κΈ°μ΅΄μ μ„¤μ • (μ΄κΈ°ν™”) / μ •λ¦¬ κ³Όμ •μ€ μ¬μ‚¬μ©ν•κ³  λ΅μ§λ§ λ‹¤λ¥Έ λ™μ‘μ„ μν–‰ν•  μ μκ²λ” ν•λ‹¤λ©΄ μΆ‹μ„ κ²ƒμ΄λ‹¤. β†’ **λ™μ‘ νλΌλ―Έν„°ν™”ν•μ!**

processFile λ©”μ„λ“μ— μν–‰ν•  λ™μ‘μ„ μ „λ‹¬ν•λ©΄ λλ‹¤. μ΄ λ• λλ‹¤λ¥Ό μ΄μ©ν•΄μ„ λ™μ‘μ„ μ „λ‹¬ν•  μ μλ‹¤. λ‹¤μμ€ λ‘ ν–‰μ„ μ¶λ ¥ν•λ” μ½”λ“μ΄λ‹¤.

```java
// λλ‹¤λ¥Ό μ΄μ©ν•΄μ„ processFileμ λ™μ‘ νλΌλ―Έν„°ν™”
String result = processFile((BufferedReader br -> 
												br.readLine() + br.readLine());
```

### 3.3.2 2λ‹¨κ³„ : ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄μ„ λ™μ‘ μ „λ‹¬

ν•¨μν• μΈν„°νμ΄μ¤ μλ¦¬μ— λλ‹¤λ¥Ό μ‚¬μ©ν•  μ μλ‹¤. λ”°λΌμ„ BufferedReader β†’ Stringκ³Ό IOExceptionμ„ λμ§ μ μλ” μ‹κ·Έλ‹μ²μ™€ μΌμΉν•λ” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•λ‹¤. μ΄ μΈν„°νμ΄μ¤λ¥Ό BufferedReaderProcessorλΌκ³  μ •μν•μ.

```java
@FuntionalInterface
public interface BufferedReaderProcessor {
		String process(BufferedReader b) throws IOException;
}
```

### 3.3.3 3λ‹¨κ³„ : λ™μ‘ μ‹¤ν–‰

μ΄μ  `BufferedReaderProcessor` μ— μ •μλ process λ©”μ„λ“μ μ‹κ·Έλ‹μ² (BufferedReacer β†’ String)μ™€ μΌμΉν•λ” λλ‹¤λ¥Ό μ „λ‹¬ν•  μ μλ‹¤. λλ‹¤μ μ½”λ“κ°€ processFile λ‚΄λ¶€μ—μ„ μ–΄λ–»κ² μ‹¤ν–‰λλ”μ§€ κΈ°μ–µν•κ³  μλ”κ°€?

λλ‹¤ ν‘ν„μ‹μΌλ΅ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ κµ¬ν„μ„ μ§μ ‘ μ „λ‹¬ν•  μ μμΌλ©° μ „λ‹¬λ μ½”λ“λ” ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ „λ‹¬λ μ½”λ“μ™€ κ°™μ€ λ°©μ‹μΌλ΅ μ²λ¦¬ν•λ‹¤. 

λ”°λΌμ„ processFile λ°”λ”” λ‚΄μ—μ„ BufferedReaderProcessors κ°μ²΄μ processλ¥Ό νΈμ¶ν•  μ μλ‹¤.

```java
public String processFile(BufferedReaderProcessor p) throws IOException {
		try (BufferedReader br =
				new BufferedReader(new FileReader("data.txt"))) {
				return p.process(br);
		}
}
```

### 3.3.4 4λ‹¨κ³„ : λλ‹¤ μ „λ‹¬

μ΄μ  λλ‹¤λ¥Ό μ΄μ©ν•΄μ„ λ‹¤μ–‘ν• λ™μ‘μ„ processFile λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ‹¤.